<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art Portfolio - Nise da Silveira Homage</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Raleway:wght@300;400&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Raleway', sans-serif;
            background: #f8f8f8;
            color: #2c2c2c;
            min-height: 100vh;
        }
        
        /* Header */
        header {
            background: white;
            padding: 2rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            text-align: center;
        }
        
        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: #2c2c2c;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            color: #666;
            font-size: 1rem;
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        
        .dedication {
            margin-top: 1rem;
            font-style: italic;
            color: #8b4513;
        }
        
        /* Tabs */
        .tabs {
            background: white;
            border-bottom: 1px solid #e0e0e0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .tab-buttons {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: 2rem;
            padding: 1rem;
        }
        
        .tab-button {
            background: none;
            border: none;
            color: #666;
            font-size: 1rem;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            font-family: 'Raleway', sans-serif;
        }
        
        .tab-button::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #8b4513;
            transition: width 0.3s ease;
        }
        
        .tab-button.active::after,
        .tab-button:hover::after {
            width: 100%;
        }
        
        .tab-button.active,
        .tab-button:hover {
            color: #8b4513;
        }
        
        /* Tab Content */
        .tab-content {
            display: none;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* About Section */
        .about-content {
            background: white;
            padding: 3rem;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .about-content h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: #2c2c2c;
        }
        
        .about-content p {
            line-height: 1.8;
            color: #666;
            margin-bottom: 1.5rem;
        }
        
        .quote {
            padding: 2rem;
            background: #f9f9f9;
            border-left: 4px solid #8b4513;
            margin: 2rem 0;
            font-style: italic;
            color: #555;
            border-radius: 5px;
        }
        
        .quote-author {
            text-align: right;
            margin-top: 1rem;
            color: #8b4513;
            font-weight: 500;
        }
        
        /* Canvas Sections */
        .canvas-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            text-align: center;
        }
        
        .canvas-wrapper {
            display: inline-block;
            position: relative;
            margin: 2rem 0;
        }
        
        canvas {
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            max-width: 100%;
            height: auto;
        }
        
        .controls {
            margin-top: 2rem;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .control-btn {
            background: #8b4513;
            color: white;
            border: none;
            padding: 0.7rem 1.5rem;
            font-size: 0.9rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'Raleway', sans-serif;
        }
        
        .control-btn:hover {
            background: #a0522d;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.3);
        }
        
        .art-description {
            max-width: 600px;
            margin: 0 auto 2rem;
            color: #666;
            line-height: 1.8;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
            color: #8b4513;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #f0f0f0;
            border-top: 3px solid #8b4513;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Footer */
        footer {
            background: #2c2c2c;
            color: white;
            padding: 2rem;
            margin-top: 4rem;
            text-align: center;
        }
        
        footer p {
            opacity: 0.8;
            line-height: 1.8;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .tab-buttons {
                gap: 1rem;
                flex-wrap: wrap;
            }
            
            .tab-button {
                font-size: 0.9rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Mathematical Art Portfolio</h1>
        <p class="subtitle">Generative Art Through Algorithms</p>
        <p class="dedication">In homage to Nise da Silveira (1905-1999)</p>
    </header>

    <div class="tabs">
        <div class="tab-buttons">
            <button class="tab-button active" onclick="switchTab('about')">About</button>
            <button class="tab-button" onclick="switchTab('mandala')">Mandalas</button>
            <button class="tab-button" onclick="switchTab('fractal')">Fractals</button>
        </div>
    </div>

    <!-- About Tab -->
    <div id="about-tab" class="tab-content active">
        <div class="about-content">
            <h2>The Geometry of the Soul</h2>
            <p>
                This portfolio explores the intersection of mathematics, art, and consciousness through 
                generative algorithms. Each piece is created in real-time through code, yet speaks to 
                something profoundly human - the patterns that connect us to nature and to ourselves.
            </p>
            
            <div class="quote">
                "The unconscious is the ocean of the unsayable, of what has been expelled from the 
                land of language, removed, excised, or simply remained as the potential of language."
                <div class="quote-author">â€” Nise da Silveira</div>
            </div>
            
            <p>
                Inspired by Nise da Silveira's revolutionary work at the Museum of Images of the Unconscious 
                in Rio de Janeiro, this collection views mathematical patterns as a language of the psyche. 
                Just as she saw art as a window into the depths of human consciousness, these algorithmic 
                creations reveal the hidden order within apparent chaos.
            </p>
            
            <p>
                Each artwork is unique and generated in real-time. The mandalas represent integration and 
                wholeness, while the fractals reveal infinite complexity within simple rules - much like 
                the human mind itself.
            </p>
        </div>
    </div>

    <!-- Mandala Tab -->
    <div id="mandala-tab" class="tab-content">
        <div class="canvas-container">
            <p class="art-description">
                Mandalas are circular geometries that represent the cosmos metaphysically and symbolically. 
                In Jungian psychology, they signify the self and the process of individuation. 
                Click the canvas or use the controls to generate unique patterns.
            </p>
            
            <div class="loading" id="mandala-loading">
                <div class="spinner"></div>
                <p>Loading mandala generator...</p>
            </div>
            
            <div class="canvas-wrapper">
                <canvas id="mandala-canvas"></canvas>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="generateNewMandala()">New Pattern</button>
                <button class="control-btn" onclick="saveMandala()">Save Image</button>
                <button class="control-btn" onclick="toggleMandalaAnimation()">Toggle Motion</button>
            </div>
        </div>
    </div>

    <!-- Fractal Tab -->
    <div id="fractal-tab" class="tab-content">
        <div class="canvas-container">
            <p class="art-description">
                Fractals are infinitely complex patterns that are self-similar across different scales. 
                They reveal how simple mathematical rules can generate forms of breathtaking complexity, 
                mirroring patterns found throughout nature and consciousness.
            </p>
            
            <div class="loading" id="fractal-loading">
                <div class="spinner"></div>
                <p>Loading fractal generator...</p>
            </div>
            
            <div class="canvas-wrapper">
                <canvas id="fractal-canvas"></canvas>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="generateNewFractal()">New Fractal</button>
                <button class="control-btn" onclick="saveFractal()">Save Image</button>
                <button class="control-btn" onclick="zoomIn()">Zoom In</button>
                <button class="control-btn" onclick="zoomOut()">Zoom Out</button>
            </div>
        </div>
    </div>

    <footer>
        <p>
            All artworks are generated algorithmically in real-time using WebAssembly.<br>
            This work honors Nise da Silveira, who revolutionized mental health treatment through art and compassion.
        </p>
    </footer>

    <script>
        // Tab switching
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Deactivate all buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // Activate corresponding button
            event.target.classList.add('active');
            
            // Load canvases if needed
            if (tabName === 'mandala' && !window.mandalaLoaded) {
                loadMandala();
            } else if (tabName === 'fractal' && !window.fractalLoaded) {
                loadFractal();
            }
        }
        
        // Mandala functions
        let mandalaModule = null;
        let mandalaAnimated = true;
        
        function loadMandala() {
            if (window.mandalaLoaded) return;
            
            document.getElementById('mandala-loading').style.display = 'block';
            
            const script = document.createElement('script');
            script.src = 'mandala.js';
            script.onload = () => {
                window.mandalaLoaded = true;
            };
            
            // Configure Module for Mandala
            window.Module = {
                canvas: document.getElementById('mandala-canvas'),
                onRuntimeInitialized: function() {
                    mandalaModule = Module;
                    document.getElementById('mandala-loading').style.display = 'none';
                    
                    // Auto-regenerate every 45 seconds
                    setInterval(() => {
                        if (mandalaAnimated && mandalaModule._GenerateMandala) {
                            mandalaModule._GenerateMandala();
                        }
                    }, 45000);
                }
            };
            
            document.body.appendChild(script);
        }
        
        function generateNewMandala() {
            if (mandalaModule && mandalaModule._GenerateMandala) {
                mandalaModule._GenerateMandala();
            }
        }
        
        function saveMandala() {
            const canvas = document.getElementById('mandala-canvas');
            const link = document.createElement('a');
            link.download = `mandala-${Date.now()}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }
        
        function toggleMandalaAnimation() {
            mandalaAnimated = !mandalaAnimated;
            event.target.textContent = mandalaAnimated ? 'Pause Motion' : 'Resume Motion';
        }
        
        // Fractal functions
        let fractalModule = null;
        
        function loadFractal() {
            if (window.fractalLoaded) return;
            
            document.getElementById('fractal-loading').style.display = 'block';
            
            const script = document.createElement('script');
            script.src = 'fractals.js';
            script.onload = () => {
                window.fractalLoaded = true;
            };
            
            // Configure Module for Fractals
            window.FractalModule = {
                canvas: document.getElementById('fractal-canvas'),
                onRuntimeInitialized: function() {
                    fractalModule = FractalModule;
                    document.getElementById('fractal-loading').style.display = 'none';
                }
            };
            
            document.body.appendChild(script);
        }
        
        function generateNewFractal() {
            if (fractalModule && fractalModule._GenerateFractal) {
                fractalModule._GenerateFractal();
            }
        }
        
        function saveFractal() {
            const canvas = document.getElementById('fractal-canvas');
            const link = document.createElement('a');
            link.download = `fractal-${Date.now()}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }
        
        function zoomIn() {
            if (fractalModule && fractalModule._ZoomFractal) {
                fractalModule._ZoomFractal(1.5);
            }
        }
        
        function zoomOut() {
            if (fractalModule && fractalModule._ZoomFractal) {
                fractalModule._ZoomFractal(0.67);
            }
        }
        
        // Click handlers for canvases
        document.getElementById('mandala-canvas').addEventListener('click', generateNewMandala);
        document.getElementById('fractal-canvas').addEventListener('click', generateNewFractal);
    </script>
</body>
</html>